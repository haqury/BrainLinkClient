# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∏–≥—Ä–µ —á–µ—Ä–µ–∑ ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

## ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### 1. BrainLink Client (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–æ):
- [ ] ‚úÖ **"Enable Shared Memory"** - –í–ö–õ–Æ–ß–ï–ù
- [ ] ‚úÖ **"Enable Game Control"** - –í–ö–õ–Æ–ß–ï–ù
- [ ] ‚úÖ **"Use ML Prediction"** - –í–ö–õ–Æ–ß–ï–ù (–≤ ML Control)
- [ ] –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ ML Control ‚Üí Status)
- [ ] –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ

### 2. –õ–æ–≥–∏ BrainLink Client (–¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å):

#### ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç:
```
‚úÖ ML predicted event for game: mr (confidence: 0.93, probabilities: {...})
```

#### –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ shared memory:
```
üì§ Sending event to game via shared memory: 'mr' (source: ml-prediction)
üì§ Shared memory event sent: mr (code: 2)
```

#### –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
üéÆ Shared memory update: event=mr, source=ml-prediction, ml_enabled=True, ml_ready=True
```

### 3. –õ–æ–≥–∏ –∏–≥—Ä—ã (–¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å):

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ BrainLink:
```
‚úÖ Connected to BrainLink: 'brainlink_data'
```

#### –°–æ–±—ã—Ç–∏—è —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ shared memory:
```
üéÆ Game read event: mr (code: 2)
```

#### InputManager –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è:
```
üéÆ InputManager: BrainLink event read: 'mr'
üß† InputManager: BrainLink event changed: '' -> 'mr'
üéÆ InputManager: Applying BrainLink movement RIGHT (x=1, y=0)
üéÆ InputManager: BrainLink active - event='mr', movement=(1.00, 0.00), keyboard_event=''
```

#### –î–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:
```
üéÆ Game: BrainLink movement detected - dir=(1.00, 0.00)
üéÆ Game: Applying BrainLink movement - dir=(1.00, 0.00), speed=10
```

---

## ‚ùå –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü—Ä–æ–±–ª–µ–º–∞: ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –µ—Å—Ç—å, –Ω–æ —Å–æ–±—ã—Ç–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ shared memory

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. `chk_enable_game_control.isChecked()` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å True
2. `self.shared_memory.is_running` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å True
3. –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üì§ Sending event to game via shared memory: 'mr'`

**–ï—Å–ª–∏ –Ω–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —á–µ–∫–±–æ–∫—Å "Enable Game Control" –≤–∫–ª—é—á–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Shared Memory –∑–∞–ø—É—â–µ–Ω (–∑–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å)

---

### –ü—Ä–æ–±–ª–µ–º–∞: –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è, –Ω–æ –Ω–µ —á–∏—Ç–∞—é—Ç—Å—è –≤ –∏–≥—Ä–µ

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –í –ª–æ–≥–∞—Ö –∏–≥—Ä—ã –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üéÆ Game read event: mr (code: 2)`
2. `brainlink.connect()` –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å True
3. `brainlink.is_connected()` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å True

**–ï—Å–ª–∏ –Ω–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–º—è shared memory —Å–æ–≤–ø–∞–¥–∞–µ—Ç: `brainlink_data`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏–≥—Ä—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

### –ü—Ä–æ–±–ª–µ–º–∞: –°–æ–±—ã—Ç–∏—è —á–∏—Ç–∞—é—Ç—Å—è, –Ω–æ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üéÆ InputManager: BrainLink event read: 'mr'`
2. –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üéÆ InputManager: Applying BrainLink movement RIGHT`
3. –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üéÆ Game: Applying BrainLink movement`

**–ï—Å–ª–∏ –Ω–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `self.in_game == True` (–∏–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞, –Ω–µ –≤ –º–µ–Ω—é)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `self.dialog_box.is_visible == False` (–¥–∏–∞–ª–æ–≥ –Ω–µ –æ—Ç–∫—Ä—ã—Ç)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–µ—Å–ª–∏ –Ω–∞–∂–∞—Ç–∞ —Å—Ç—Ä–µ–ª–∫–∞, BrainLink –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

---

## üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ BrainLink Client
2. –í–∫–ª—é—á–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —á–µ–∫–±–æ–∫—Å—ã (—Å–º. –≤—ã—à–µ)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç (–≤ –ª–æ–≥–∞—Ö: `‚úÖ ML predicted event for game: mr`)
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏–≥—Ä—ã - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ —á—Ç–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π
6. –ü–µ—Ä—Å–æ–Ω–∞–∂ –¥–æ–ª–∂–µ–Ω –¥–≤–∏–≥–∞—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏

---

## üìù –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:

### BrainLink Client:
- `‚úÖ ML predicted event for game: ...` - ML —Ä–∞–±–æ—Ç–∞–µ—Ç
- `üì§ Sending event to game via shared memory: ...` - —Å–æ–±—ã—Ç–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- `üì§ Shared memory event sent: ...` - —Å–æ–±—ã—Ç–∏–µ –∑–∞–ø–∏—Å–∞–Ω–æ –≤ shared memory

### –ò–≥—Ä–∞:
- `‚úÖ Connected to BrainLink: ...` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ
- `üéÆ Game read event: ...` - —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ
- `üéÆ InputManager: BrainLink event read: ...` - InputManager –ø–æ–ª—É—á–∏–ª —Å–æ–±—ã—Ç–∏–µ
- `üéÆ InputManager: Applying BrainLink movement ...` - –¥–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- `üéÆ Game: Applying BrainLink movement ...` - –¥–≤–∏–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –∏–≥—Ä–æ–∫—É

---

**–ï—Å–ª–∏ –≤—Å–µ –ª–æ–≥–∏ –µ—Å—Ç—å, –Ω–æ –¥–≤–∏–∂–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ –∏–≥—Ä–æ–∫–∞ (`player.move()`).**
