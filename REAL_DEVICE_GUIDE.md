# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é —Ä–µ–∞–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ BrainLink

## –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç:**
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É
- –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

‚ùå **–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª)

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å UUID —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫

BrainLink –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Bluetooth LE (Low Energy). –ù—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å UUID —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –¥–ª—è:
- EEG –¥–∞–Ω–Ω—ã—Ö
- –ì–∏—Ä–æ—Å–∫–æ–ø–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥ 2: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É. –í –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ:

```
üì° Received from Characteristic...
   HEX: aa5500...
   Length: 32 bytes
   Raw bytes: [170, 85, 0, ...]
```

### –®–∞–≥ 3: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥

–ù–∞ –æ—Å–Ω–æ–≤–µ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ `bluetooth_service.py`:

```python
def _parse_eeg_data(self, data: bytearray) -> BrainLinkModel:
    """Parse EEG data from device"""
    # –ü—Ä–∏–º–µ—Ä (—Ä–µ–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è):
    if len(data) < 32:
        return None
    
    return BrainLinkModel(
        attention=data[2],
        meditation=data[3],
        delta=int.from_bytes(data[4:7], 'big'),
        theta=int.from_bytes(data[7:10], 'big'),
        # ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
    )
```

## –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è
- –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—é BrainLink
- –ó–∞–ø—Ä–æ—Å–∏—Ç–µ SDK –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ê–Ω–∞–ª–∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–£ –≤–∞—Å –µ—Å—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è C# –≤–µ—Ä—Å–∏—è –≤:
```
C:\Users\haqury\source\repos\BrainLinkConnect
```

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ, –∫–∞–∫ —Ç–∞–º –ø–∞—Ä—Å—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –æ—Ç BrainLinkSDK:
- `BrainLinkSDK_Windows.dll` - —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É
- –ü–æ–∏—â–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π OnEEGDataEvent

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–±—Ä–∞—Ç–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –∏ –∏–∑—É—á–∏—Ç–µ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏:

1. –î–≤–∏–≥–∞–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ - –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –º–µ–Ω—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ
2. –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å - –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –ù–∞–π–¥–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –¥–∞–Ω–Ω—ã—Ö

## –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

–ü–æ–∫–∞ –≤—ã —Ä–∞–∑–±–∏—Ä–∞–µ—Ç–µ—Å—å —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–º—É–ª—è—Ç–æ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

1. –ù–∞–∂–º–∏—Ç–µ "Start & Connect"
2. –ù–∞–∂–º–∏—Ç–µ "üéÆ Use Simulator (for testing)"
3. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–±—É—á–µ–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—ã—à—å—é, –∏—Å—Ç–æ—Ä–∏—è) –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BrainLinkSDK

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å BrainLinkSDK_Windows.dll, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ Python:

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pythonnet:
```bash
pip install pythonnet
```

### –ó–∞–≥—Ä—É–∑–∏—Ç–µ DLL:
```python
import clr
clr.AddReference('–ø—É—Ç—å/–∫/BrainLinkSDK_Windows.dll')

from BrainLinkSDK_Windows import BrainLinkSDK

sdk = BrainLinkSDK()
# ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SDK
```

## –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–µ–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª)

–î–æ–ø—É—Å—Ç–∏–º, –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ —Ç–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:
```
–ë–∞–π—Ç 0-1:   –ó–∞–≥–æ–ª–æ–≤–æ–∫ (0xAA, 0x55)
–ë–∞–π—Ç 2:     –î–ª–∏–Ω–∞ –ø–∞–∫–µ—Ç–∞
–ë–∞–π—Ç 3:     –¢–∏–ø –ø–∞–∫–µ—Ç–∞ (0x01 = EEG, 0x02 = Gyro)
–ë–∞–π—Ç 4-N:   –î–∞–Ω–Ω—ã–µ
–ë–∞–π—Ç N+1:   –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞
```

–¢–æ–≥–¥–∞ –≤ `bluetooth_service.py`:

```python
def _notification_handler(self, sender, data: bytearray):
    if len(data) < 4:
        return
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞
    if data[0] != 0xAA or data[1] != 0x55:
        return
    
    packet_type = data[3]
    
    if packet_type == 0x01:  # EEG –¥–∞–Ω–Ω—ã–µ
        eeg_data = self._parse_eeg_packet(data)
        if self.on_eeg_data and eeg_data:
            self.on_eeg_data(eeg_data)
    
    elif packet_type == 0x02:  # Gyro –¥–∞–Ω–Ω—ã–µ
        x, y, z = self._parse_gyro_packet(data)
        if self.on_gyro_data:
            self.on_gyro_data(x, y, z)
```

## –ü–æ–º–æ—â—å

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É**
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏** (–¥–∞–Ω–Ω—ã–µ –≤ HEX —Ñ–æ—Ä–º–∞—Ç–µ)
4. **–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å** —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ - —è –ø–æ–º–æ–≥—É —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥

–ò–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é BrainLink SDK
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏–∑ C# –≤–µ—Ä—Å–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä—Å—è—Ç –¥–∞–Ω–Ω—ã–µ
- –§–∞–π–ª—ã .dll —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º API

---

## –¢–µ–∫—É—â–∏–π –∫–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ö–æ–¥ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤—Å–µ—Ö –ø–æ–ª—É—á–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Å–æ–ª—å:

```python
# –í bluetooth_service.py
def _notification_handler(self, sender, data: bytearray):
    print(f"üì° Received from {sender}:")
    print(f"   HEX: {data.hex()}")
    print(f"   Length: {len(data)} bytes")
    print(f"   Raw bytes: {list(data)}")
```

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –≤—ã–≤–æ–¥!**
